# FaultMaven Self-Hosted Configuration
# Copy this file to .env and add your LLM API key

# ============================================================================
# LLM Provider API Keys (at least one required)
# ============================================================================
# FaultMaven supports 6 LLM providers with automatic fallback.
# Configure one or more for redundancy and cost optimization.
#
# Get API keys from:
# - OpenAI: https://platform.openai.com/api-keys
# - Anthropic: https://console.anthropic.com/
# - Groq: https://console.groq.com/ (FREE tier available - ultra-fast!)
# - Gemini: https://makersuite.google.com/app/apikey
# - Fireworks: https://fireworks.ai/api-keys
# - OpenRouter: https://openrouter.ai/keys (aggregates multiple providers)

# Primary provider (choose one)
OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-ant-...

# Additional providers (optional - for fallback and redundancy)
# GROQ_API_KEY=gsk_...
# GEMINI_API_KEY=AIza...
# FIREWORKS_API_KEY=fw_...
# OPENROUTER_API_KEY=sk-or-...

# ============================================================================
# Deployment Profile (DO NOT CHANGE for self-hosted)
# ============================================================================
PROFILE=public

# ============================================================================
# Database Configuration (SQLite - zero config)
# ============================================================================
DB_TYPE=sqlite
DATABASE_URL=sqlite+aiosqlite:////data/faultmaven.db

# ============================================================================
# Infrastructure Services (configured by docker-compose)
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379

CHROMADB_HOST=chromadb
CHROMADB_PORT=8000

# ============================================================================
# Service URLs (internal Docker network)
# ============================================================================
KNOWLEDGE_SERVICE_URL=http://fm-knowledge-service:8000
CASE_SERVICE_URL=http://fm-case-service:8000
EVIDENCE_SERVICE_URL=http://fm-evidence-service:8000
AUTH_SERVICE_URL=http://fm-auth-service:8000
SESSION_SERVICE_URL=http://fm-session-service:8000

# ============================================================================
# Storage Configuration
# ============================================================================
STORAGE_TYPE=local
LOCAL_UPLOAD_DIR=/data/uploads

# ============================================================================
# Network Access Configuration
# ============================================================================
# Set this to your server's IP address or hostname
# This value is baked into the dashboard's JavaScript at build time
#
# Examples:
#   - Local network: SERVER_HOST=192.168.0.200
#   - Hostname: SERVER_HOST=faultmaven.local
#   - Public IP: SERVER_HOST=203.0.113.42
#
# IMPORTANT: Cannot use 'localhost' here!
# Why? When you open the dashboard in a browser on a DIFFERENT machine,
# 'localhost' would refer to that machine, not your FaultMaven server.
#
# Only use 'localhost' if you will ONLY access the dashboard from the
# same machine where FaultMaven is running (rare for headless servers).

SERVER_HOST=192.168.0.200

# ============================================================================
# Authentication (Self-Hosted Simplified Auth)
# ============================================================================
# Simple username/password authentication for dashboard and browser extension
# IMPORTANT: Change these credentials before deploying to production!

DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=changeme123

# Optional: Set a default user token for headless mode (browser extension)
# If not set, users must login through dashboard first
# DEFAULT_USER_TOKEN=my-secret-token-here
